<template>
    <div>
      <h2>图表四</h2>
      <div id="chartDom5" class="chart">
          <!-- 图表放置位 -->
      </div>
    </div>
  </template>
  
  <script>
  import { inject, onMounted, reactive } from 'vue';

  export default {
    setup(){
        let $echarts = inject("echarts")
        // let $http = inject("axios")
        let data = reactive({})
        let xdata = reactive([])
        let ydata = reactive([])

        // Schema:
        // date,AQIindex,PM2.5,PM10,CO,NO2,SO2
        var dataBJ = [
        [1,0.378032812,5.0,6.0],
        [2,13.858656,1.0,4.0],
        [3,12.130837,1.0,4.0],
        [4,12.47479725,1.0,4.0],
        [5,11.790416,1.0,4.0],
        [6,16.905985666666666,1.0,5.0],
        [7,11.141083666666667,1.0,4.0],
        [8,10.577954,1.0,4.0],
        [9,13.10446,1.0,4.0],
        [10,11.684676,1.0,4.0],
        [11,14.769152,1.0,4.0],
        [12,10.412414,1.0,4.0],
        [13,12.0739235,1.0,4.0],
        [14,10.102552666666666,1.0,4.0],
        [15,15.269229000000001,1.0,5.0],
        [16,10.410441,1.0,4.0],
        [17,10.278595,1.0,4.0],
        [18,10.326725,1.0,4.0],
        [19,12.84789,1.0,4.0],
        [20,14.95338375,1.0,4.0],
        [21,12.103015,1.0,4.0],
        [22,14.486345,1.0,4.0],
        [23,11.545003,1.0,4.0],
        [24,14.136274,1.0,4.0],
        [25,16.9470815,1.0,5.0],
        [26,13.777069000000001,1.0,4.0],
        [27,13.187059,1.0,4.0],
        [28,13.36754,1.0,4.0],
        [29,12.202337,1.0,4.0],
        [30,10.746262,1.0,4.0],
        [31,10.989356,1.0,4.0],
        [32,10.296321,1.0,4.0],
        [33,16.26159,1.0,5.0],
        [34,10.751712333333332,1.0,4.0],
        [35,10.351271,1.0,4.0],
        [36,11.510428,1.0,4.0],
        [37,11.430224,1.0,4.0],
        [38,13.06029,1.0,4.0],
        [39,11.811181,1.0,4.0],
        [40,10.184138625,1.0,4.0],
        [41,11.16936565,1.0,4.0],
        [42,12.634607,1.0,4.0],
        [43,11.540633,1.0,4.0],
        [44,12.455686666666667,1.0,4.0],
        [45,11.235290333333333,1.0,4.0],
        [46,10.7655564,1.0,4.0],
        [47,11.689637,1.0,4.0],
        [48,11.070044,1.0,4.0],
        [49,10.545768,1.0,4.0],
        [50,13.109476,1.0,4.0],
        [51,11.027123,1.0,4.0],
        [52,10.558461999999999,1.0,4.0],
        [53,12.660817,1.0,4.0],
        [54,11.154798,1.0,4.0],
        [55,11.443135,1.0,4.0],
        [56,16.137987,1.0,5.0],
        [57,10.188295,1.0,4.0],
        [58,16.42383,1.0,5.0],
        [59,12.220683,1.0,4.0],
        [60,16.678194,1.0,5.0],
        [61,13.156336,1.0,4.0],
        [62,13.124513,1.0,4.0],
        [63,11.202149,1.0,4.0],
        [64,12.762528,1.0,4.0],
        [65,13.035708999999999,1.0,4.0],
        [66,10.743567666666669,1.0,4.0],
        [67,15.1463716,1.0,5.0],
        [68,11.408596,1.0,4.0],
        [69,13.507496249999999,1.0,4.0],
        [70,10.3711405,1.0,4.0],
        [71,13.9228235,1.0,4.0],
        [72,10.099178,1.0,4.0],
        [73,11.138902,1.0,4.0],
        [74,10.724242499999999,1.0,4.0],
        [75,16.599085,1.0,5.0],
        [76,15.511807,1.0,5.0],
        [77,10.107412,1.0,4.0],
        [78,10.416545,1.0,4.0],
        [79,11.155325,1.0,4.0],
        [80,10.553347200000001,1.0,4.0],
        [81,13.618776,1.0,4.0],
        [82,10.329946,1.0,4.0],
        [83,14.373784,1.0,4.0],
        [84,12.207137249999999,1.0,4.0],
        [85,10.070034,1.0,4.0],
        [86,15.143451,1.0,5.0],
        [87,10.9143505,1.0,4.0],
        [88,13.95461075,1.0,4.0],
        [89,16.53289,1.0,5.0],
        [90,13.2188785,1.0,4.0],
        [91,17.280304,1.0,5.0],
        [92,10.9664135,1.0,4.0],
        [93,10.632155,1.0,4.0],
        [94,11.240823,1.0,4.0],
        [95,10.232185,1.0,4.0],
        [96,11.5618325,1.0,4.0],
        [97,11.843971625,1.0,4.0],
        [98,10.028565,1.0,4.0],
        [99,11.952817249999999,1.0,4.0],
        [100,15.982815,1.0,5.0],
        [101,14.336857,1.0,4.0],
        [102,11.568563,1.0,4.0],
        [103,17.635853,1.0,5.0],
        [104,10.669389,1.0,4.0],
        [105,14.755364,1.0,4.0],
        [106,15.184752,1.0,5.0],
        [107,11.97542,1.0,4.0],
        [108,13.260321,1.0,4.0],
        [109,13.192852,1.0,4.0],
        [110,10.2391695,1.0,4.0],
        [111,15.574858,1.0,5.0],
        [112,12.67853375,1.0,4.0],
        [113,11.399204,1.0,4.0],
        [114,10.398587,1.0,4.0],
        [115,10.735555666666665,1.0,4.0],
        [116,11.455955,1.0,4.0],
        [117,10.96298735,1.0,4.0],
        [118,16.346127,1.0,5.0],
        [119,12.392759,1.0,4.0],
        [120,10.6605285,1.0,4.0],
        [121,11.1095915,1.0,4.0],
        [122,11.33181,1.0,4.0],
        [123,15.407943,1.0,5.0],
        [124,13.37361,1.0,4.0],
        [125,10.538231,1.0,4.0],
        [126,14.325974,1.0,4.0],
        [127,14.48606,1.0,4.0],
        [128,14.068464,1.0,4.0],
        [129,12.874709,1.0,4.0],
        [130,16.992466,1.0,5.0],
        [131,11.225264849999999,1.0,4.0],
        [132,10.8581988,1.0,4.0],
        [133,11.366283,1.0,4.0],
        [134,10.863253,1.0,4.0],
        [135,12.524388425,1.0,4.0],
        [136,10.922148,1.0,4.0],
        [137,16.878273,1.0,5.0],
        [138,10.903224,1.0,4.0],
        [139,11.299548,1.0,4.0],
        [140,13.323144,1.0,4.0],
        [141,12.044796,1.0,4.0],
        [142,11.912272,1.0,4.0],
        [143,10.0169771,1.0,4.0],
        [144,10.983138499999999,1.0,4.0],
        [145,10.460851,1.0,4.0],
        [146,12.641055,1.0,4.0],
        [147,10.212522,1.0,4.0],
        [148,11.966948833333333,1.0,4.0],
        [149,13.1760795,1.0,4.0],
        [150,13.311732,1.0,4.0],
        [151,13.425938,1.0,4.0],
        [152,11.537804,1.0,4.0],
        [153,10.616458,1.0,4.0],
        [154,13.939264,1.0,4.0],
        [155,13.247673500000001,1.0,4.0],
        [156,11.573971499999999,1.0,4.0],
        [157,15.698158,1.0,5.0],
        [158,10.343257,1.0,4.0],
        [159,10.822581,1.0,4.0],
        [160,11.315135,1.0,4.0],
        [161,10.444947,1.0,4.0],
        [162,13.235507,1.0,4.0],
        [163,13.417552,1.0,4.0],
        [164,12.406398,1.0,4.0],
        [165,13.209802,1.0,4.0],
        [166,11.545926,1.0,4.0],
        [167,18.995262,1.0,5.0],
        [168,11.828528,1.0,4.0],
        [169,17.700926,1.0,5.0],
        [170,10.615384,1.0,4.0],
        [171,12.069477,1.0,4.0],
        [172,14.3091945,1.0,4.0],
        [173,10.7359625,1.0,4.0],
        [174,13.335021499999998,1.0,4.0],
        [175,13.723614,1.0,4.0],
        [176,10.531618,1.0,4.0],
        [177,10.908773,1.0,4.0],
        [178,10.474763500000002,1.0,4.0],
        [179,10.119444,1.0,4.0],
        [180,10.8302755,1.0,4.0],
        [181,11.292927,1.0,4.0],
        [182,11.569813,1.0,4.0],
        [183,10.773416333333335,1.0,4.0],
        [184,10.293259333333333,1.0,4.0],
        [185,11.986961,1.0,4.0],
        [186,11.331609,1.0,4.0],
        [187,10.176031666666667,1.0,4.0],
        [188,12.113113,1.0,4.0],
        [189,10.274765333333333,1.0,4.0],
        [190,11.244568999999998,1.0,4.0],
        [191,11.4862795,1.0,4.0],
        [192,11.119057,1.0,4.0],
        [193,11.80964,1.0,4.0],
        [194,13.36861,1.0,4.0],
        [195,13.367687,1.0,4.0],
        [196,14.066534,1.0,4.0],
        [197,10.855092,1.0,4.0],
        [198,12.741709,1.0,4.0],
        [199,12.31677323333333,1.0,4.0],
        [200,14.907882,1.0,4.0],
        [201,11.173717,1.0,4.0],
        [202,11.848933,1.0,4.0],
        [203,13.2830715,1.0,4.0],
        [204,11.9378805,1.0,4.0],
        [205,12.332382,1.0,4.0],
        [206,14.330001,1.0,4.0],
        [207,14.940442,1.0,4.0],
        [208,12.500387,1.0,4.0],
        [209,11.887486,1.0,4.0],
        [210,15.641854,1.0,5.0],
        [211,11.335929,1.0,4.0],
        [212,10.3806415,1.0,4.0],
        [213,10.87286,1.0,4.0],
        [214,12.539602,1.0,4.0],
        [215,12.467772,1.0,4.0],
        [216,15.440505,1.0,5.0],
        [217,11.491496,1.0,4.0],
        [218,14.90187,1.0,4.0],
        [219,13.078706,1.0,4.0],
        [220,16.004782,1.0,5.0],
        [221,11.526462,1.0,4.0],
        [222,10.40912,1.0,4.0],
        [223,11.015679,1.0,4.0],
        [224,10.0087385,1.0,4.0],
        [225,12.5646455,1.0,4.0],
        [226,11.04795,1.0,4.0],
        [227,14.429592,1.0,4.0],
        [228,13.821282,1.0,4.0],
        [229,12.548235833333331,1.0,4.0],
        [230,10.0033,1.0,4.0],
        [231,11.7378645,1.0,4.0],
        [232,15.834976,1.0,5.0],
        [233,10.890556,1.0,4.0],
        [234,13.243839,1.0,4.0],
        [235,10.153005666666667,1.0,4.0],
        [236,10.722188,1.0,4.0],
        [237,10.585773,1.0,4.0],
        [238,11.142369,1.0,4.0],
        [239,10.3522155,1.0,4.0],
        [240,19.491074,1.0,5.0],
        [241,16.871714,1.0,5.0],
        [242,13.662071,1.0,4.0],
        [243,16.8829,1.0,5.0],
        [244,10.47091,1.0,4.0],
        [245,11.387342,1.0,4.0],
        [246,10.2682145,1.0,4.0],
        [247,11.006015833333334,1.0,4.0],
        [248,10.94511188,1.0,4.0],
        [249,13.553799999999999,1.0,4.0],
        [250,12.458432250000001,1.0,4.0],
        [251,15.9413575,1.0,5.0],
        [252,10.964587250000001,1.0,4.0],
        [253,16.153765,1.0,5.0],
        [254,10.285585333333334,1.0,4.0],
        [255,18.328909,1.0,5.0],
        [256,10.2169825,1.0,4.0],
        [257,13.858759,1.0,4.0],
        [258,11.632937,1.0,4.0],
        [259,11.804898,1.0,4.0],
        [260,13.777694866666666,1.0,4.0],
        [261,17.505468333333333,1.0,5.0],
        [262,13.3385875,1.0,4.0],
        [263,11.76818,1.0,4.0],
        [264,11.694178,1.0,4.0],
        [265,12.2706105,1.0,4.0],
        [266,12.535386,1.0,4.0],
        [267,15.4583435,1.0,5.0],
        [268,11.605422,1.0,4.0],
        [269,15.253688,1.0,5.0],
        [270,11.376837,1.0,4.0],
        [271,11.319785,1.0,4.0],
        [272,12.543346,1.0,4.0],
        [273,12.288227166666667,1.0,4.0],
        [274,10.505408125,1.0,4.0],
        [275,12.5114,1.0,4.0],
        [276,13.82253,1.0,4.0],
        [277,11.089456,1.0,4.0],
        [278,11.5024275,1.0,4.0],
        [279,12.1182485,1.0,4.0],
        [280,10.840578,1.0,4.0],
        [281,12.785672,1.0,4.0],
        [282,11.434115,1.0,4.0],
        [283,14.453796,1.0,4.0],
        [284,12.0139455,1.0,4.0],
        [285,11.1343855,1.0,4.0],
        [286,11.460753,1.0,4.0],
        [287,15.582533,1.0,5.0],
        [288,10.052023,1.0,4.0],
        [289,12.079998,1.0,4.0],
        [290,10.889316666666666,1.0,4.0],
        [291,22.426563,1.0,6.0],
        [292,12.641084000000001,1.0,4.0],
        [293,10.9714135,1.0,4.0],
        [294,11.474069,1.0,4.0],
        [295,14.284732,1.0,4.0],
        [296,10.77998,1.0,4.0],
        [297,10.164098,1.0,4.0],
        [298,17.608244,1.0,5.0],
        [299,10.4869937,1.0,4.0],
        [300,11.405567000000001,1.0,4.0],
        [301,14.712339499999999,1.0,4.0],
        [302,11.1809025,1.0,4.0],
        [303,14.519584,1.0,4.0],
        [304,11.687049,1.0,4.0],
        [305,11.089763,1.0,4.0],
        [306,16.85836,1.0,5.0],
        [307,16.382568,1.0,5.0],
        [308,13.787652,1.0,4.0],
        [309,11.433223,1.0,4.0],
        [310,11.631114,1.0,4.0],
        [311,12.0863785,1.0,4.0],
        [312,10.131240666666667,1.0,4.0],
        [313,12.671075,1.0,4.0],
        [314,14.522341,1.0,4.0],
        [315,14.02634,1.0,4.0],
        [316,13.222812,1.0,4.0],
        [317,10.937908,1.0,4.0],
        [318,12.404637,1.0,4.0],
        [319,12.531179999999999,1.0,4.0],
        [320,10.583507,1.0,4.0],
        [321,12.804999,1.0,4.0],
        [322,18.60216,1.0,5.0],
        [323,13.1282615,1.0,4.0],
        [324,12.753055499999999,1.0,4.0],
        [325,14.6432925,1.0,4.0],
        [326,12.790005666666667,1.0,4.0],
        [327,12.855626,1.0,4.0],
        [328,13.816882125,1.0,4.0],
        [329,10.476664,1.0,4.0],
        [330,10.404938,1.0,4.0],
        [331,10.461195,1.0,4.0],
        [332,15.121292,1.0,5.0],
        [333,12.052687,1.0,4.0],
        [334,11.455818,1.0,4.0],
        [335,12.840551,1.0,4.0],
        [336,11.540670500000001,1.0,4.0],
        [337,6.22077615,2.0,4.0],
        [338,10.953569,1.0,4.0],
        [339,12.740026,1.0,4.0],
        [340,10.699698999999999,1.0,4.0],
        [341,15.104055,1.0,5.0],
        [342,11.416732,1.0,4.0],
        [343,13.351072,1.0,4.0],
        [344,10.347959,1.0,4.0],
        [345,10.462896,1.0,4.0],
        [346,11.313947,1.0,4.0],
        [347,10.534384,1.0,4.0],
        [348,11.319112,1.0,4.0],
        [349,11.50796,1.0,4.0],
        [350,14.321876,1.0,4.0],
        [351,10.12205225,1.0,4.0],
        [352,11.426328,1.0,4.0],
        [353,11.03293,1.0,4.0],
        [354,10.93316,1.0,4.0],
        [355,14.536284,1.0,4.0],
        [356,14.018075,1.0,4.0],
        [357,11.21782125,1.0,4.0],
        [358,11.533146,1.0,4.0],
        [359,12.6473895,1.0,4.0],
        [360,12.956378,1.0,4.0],
        [361,11.193122,1.0,4.0],
        [362,11.2529875,1.0,4.0],
        [363,12.180679,1.0,4.0],
        [364,15.658564,1.0,5.0],
        [365,10.271878,1.0,4.0],
        [366,10.743553,1.0,4.0],
        [367,17.0689435,1.0,5.0],
        [368,10.21952025,1.0,4.0],
        [369,19.715506,1.0,5.0],
        [370,13.854072,1.0,4.0],
        [371,10.2909775,1.0,4.0],
        [372,11.1096495,1.0,4.0],
        [373,13.5970925,1.0,4.0],
        [374,15.926469,1.0,5.0],
        [375,11.929131,1.0,4.0],
        [376,10.494031,1.0,4.0],
        [377,10.332203,1.0,4.0],
        [378,11.34906,1.0,4.0],
        [379,10.169146,1.0,4.0],
        [380,11.673103,1.0,4.0],
        [381,13.194334,1.0,4.0],
        [382,11.481205,1.0,4.0],
        [383,11.358132,1.0,4.0],
        [384,10.507496,1.0,4.0],
        [385,10.85629,1.0,4.0],
        [386,13.528092000000001,1.0,4.0],
        [387,11.30622,1.0,4.0],
        [388,13.779396,1.0,4.0],
        [389,11.157382,1.0,4.0],
        [390,10.697657,1.0,4.0],
        [391,11.676631,1.0,4.0],
        [392,10.16756875,1.0,4.0],
        [393,10.3593745,1.0,4.0],
        [394,14.286992,1.0,4.0],
        [395,10.792237,1.0,4.0],
        [396,11.615036,1.0,4.0],
        [397,10.341226500000001,1.0,4.0],
        [398,10.207327,1.0,4.0],
        [399,10.717175,1.0,4.0],
        [400,11.368575,1.0,4.0],
        [401,10.203749,1.0,4.0],
        [402,11.000179333333334,1.0,4.0],
        [403,10.4796892,1.0,4.0],
        [404,11.4469335,1.0,4.0],
        [405,16.511505,1.0,5.0],
        [406,10.434173,1.0,4.0],
        [407,12.451559,1.0,4.0],
        [408,10.1848599,1.0,4.0],
        [409,10.44185625,1.0,4.0],
        [410,13.356629,1.0,4.0],
        [411,10.601565,1.0,4.0],
        [412,10.255714,1.0,4.0],
        [413,11.49067,1.0,4.0],
        [414,11.187446,1.0,4.0],
        [415,13.477271,1.0,4.0],
        [416,10.1684452,1.0,4.0],
        [417,11.554814,1.0,4.0],
        [418,11.509052,1.0,4.0],
        [419,15.546139,1.0,5.0],
        [420,12.989515,1.0,4.0],
        [421,10.173045,1.0,4.0],
        [422,13.003675,1.0,4.0],
        ];


        var schema = [
            {name: 'number', index: 0, text: '序号'},
            {name: 'velocity', index: 1, text: '速度'},
            {name: 'trans', index: 2, text: '急转弯次数'},
            {name: 'score', index: 3, text: '评级'}
        ];

        var lineStyle = {
            normal: {
                width: 1,
                opacity: 0.5
            }
        };


        async function getState(){
            // data = await $http.get("http://localhost:8080/data2.json")
            // console.log(data)
        }
        function setData(){
            // console.log("data", data)
            // xdata = data.data.chartdata.map(v=>v.title)
            // ydata = data.data.chartdata.map(v=>v.num)
            // console.log("x", xdata)
            // console.log("y", ydata)
        }

        onMounted(()=>{

            getState().then(()=>{
                setData()

                let myChart = $echarts.init(document.getElementById("chartDom5"));
                myChart.setOption({
                    title: {
                        text:'驾驶员行为平行坐标图',
                        left: 'center',
                        textStyle:{
                            color :'white'
                        },
                        padding : 2
                    },
                    // legend: {
                    //     bottom: 30,
                    //     data: ['北京'],
                    //     itemGap: 20,
                    //     textStyle: {
                    //         color: '#fff',
                    //         fontSize: 14
                    //     }
                    // },
                    // dataZoom: {
                    //     show: true,
                    //     orient: 'vertical',
                    //     parallelAxisIndex: [0]
                    // },
                    parallelAxis: [
                        {dim: 0, name: schema[0].text}, // , inverse: true, max: 31, nameLocation: 'start'
                        {dim: 1, name: schema[1].text},
                        {dim: 2, name: schema[2].text},
                        {dim: 3, name: schema[3].text, min:4} // type: 'category', data: ['优', '良', '轻度污染', '中度污染', '重度污染', '严重污染']
                    ],
                    visualMap: {
                        show: true,
                        min: 0,
                        max: 150,
                        dimension: 2,
                        left : '2.2%',
                        bottom : '20%',
                        inRange: {
                            color: ['#d94e5d','#eac736','#50a3ba'].reverse(),
                            // colorAlpha: [0, 1]
                        }
                    },
                    parallel: {
                        left: '10%',
                        right: '5%',
                        bottom: '5%',
                        parallelAxisDefault: {
                            type: 'value',
                            name: 'AQI指数',
                            nameLocation: 'end',
                            nameGap: 20,
                            nameTextStyle: {
                                color: '#fff',
                                fontSize: 12
                            },
                            axisLine: {
                                lineStyle: {
                                    color: '#aaa'
                                }
                            },
                            axisTick: {
                                lineStyle: {
                                    color: '#777'
                                }
                            },
                            splitLine: {
                                show: false
                            },
                            axisLabel: {
                                color: '#fff'
                            }
                        }
                    },
                    series: [
                        {
                            name: '北京',
                            type: 'parallel',
                            lineStyle: lineStyle,
                            data: dataBJ
                        }
                    ]       
                })

                window.onresize = function(){
                myChart.resize();
                }

            })

            

            
            
        })

        return {
            getState, data, xdata, ydata, setData
        }
    }
  }
  </script>
  
  <style scoped>
      h2{
          margin: .5rem;
          height: 1rem;
          font-size: 1rem;
          color: #fff;
          line-height: 1rem;
          text-align: center;
      }
  
      .chart{
          margin: 0.9rem;
          height: 37.5rem;
          /* background-color: gray; */
      }
  </style>